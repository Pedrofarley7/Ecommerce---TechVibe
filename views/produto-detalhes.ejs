<!DOCTYPE html>
<html>
<head>
    <title><%= produto.nome %> - TechVibe</title>
    <link rel="stylesheet" href="/stylesheets/detalheProduto.css">
</head>
<body>
    <%- include('./partials/cabecalho') %>
    
    <div class="product-details-container">
        <!-- Carrossel de Imagens -->
        <div class="product-carousel">
            <div class="carousel-images">
                <% produto.imagens.forEach((imagem, index) => { %>
                    <img src="<%= imagem %>" alt="<%= produto.nome %>" class="<%= index === 0 ? 'active' : '' %>">
                <% }); %>
            </div>
            <div class="carousel-thumbnails">
                <% produto.imagens.forEach((imagem, index) => { %>
                    <img src="<%= imagem %>" alt="<%= produto.nome %>" data-index="<%= index %>" class="<%= index === 0 ? 'active' : '' %>">
                <% }); %>
            </div>
        </div>

        <!-- Informações do Produto -->
        <div class="product-info">
            <h1><%= produto.nome %></h1>
            <p><%= produto.descricao %></p>
            <p class="price">R$ <%= produto.preco.toFixed(2) %></p>
            <a href="#" class="btn">Adicionar ao Carrinho</a>
        </div>
    </div>
    
    <%- include('./partials/rodape') %>

    <!-- Script para o carrossel -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
    const carouselImages = document.querySelectorAll('.carousel-images img');
    const thumbnails = document.querySelectorAll('.carousel-thumbnails img');

    thumbnails.forEach((thumbnail, index) => {
        thumbnail.addEventListener('click', () => {
            // Remove a classe 'active' de todas as imagens e miniaturas
            carouselImages.forEach(img => img.classList.remove('active'));
            thumbnails.forEach(thumb => thumb.classList.remove('active'));

            // Adiciona a classe 'active' à imagem e miniatura correspondente
            carouselImages[index].classList.add('active');
            thumbnail.classList.add('active');
        });
    });
});
    </script>
</body>
</html>
